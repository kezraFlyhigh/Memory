<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I Packed My Suitcase - Memory Game</title>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const wordList = [
            'toothbrush', 'sunglasses', 'book', 'camera', 'phone', 'keys', 'wallet',
            'umbrella', 'hat', 'scarf', 'gloves', 'socks', 'shoes', 'jacket',
            'charger', 'headphones', 'snacks', 'water', 'map', 'notebook',
            'pen', 'laptop', 'tablet', 'passport', 'tickets', 'medicine',
            'sunscreen', 'towel', 'swimsuit', 'flip-flops', 'backpack', 'watch',
            'flashlight', 'batteries', 'candy', 'gum', 'tissues', 'sanitizer',
            'bandages', 'sweater', 'pajamas', 'toothpaste', 'shampoo', 'soap',
            'comb', 'mirror', 'deodorant', 'perfume', 'jewelry', 'belt'
        ];

        function BriefcaseIcon() {
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-indigo-600">
                    <rect width="20" height="14" x="2" y="7" rx="2" ry="2"/>
                    <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
                </svg>
            );
        }

        function SuitcaseGame() {
            const getInitialWord = () => wordList[Math.floor(Math.random() * wordList.length)];
            const [items, setItems] = useState(() => [getInitialWord()]);
            const [gameState, setGameState] = useState('playing');
            const [message, setMessage] = useState('');
            const [hiddenWords, setHiddenWords] = useState(new Set());
            const [userAnswer, setUserAnswer] = useState('');

            useEffect(() => {
                // Set up timers to hide each word after 10 seconds
                const timers = items.map((_, index) => {
                    // Only set timer if this word isn't already hidden
                    if (!hiddenWords.has(index)) {
                        return setTimeout(() => {
                            setHiddenWords(prev => new Set([...prev, index]));
                        }, 5000);
                    }
                    return null;
                });

                return () => {
                    timers.forEach(timer => timer && clearTimeout(timer));
                };
            }, [items, hiddenWords]);

            const addRandomItem = () => {
                const availableWords = wordList.filter(word => !items.includes(word));
                
                if (availableWords.length === 0) {
                    setMessage('No more unique items available!');
                    return;
                }
                
                const randomItem = availableWords[Math.floor(Math.random() * availableWords.length)];
                const newItems = [...items, randomItem];
                setItems(newItems);
                setMessage(`Item added! Now remember all ${newItems.length} items.`);
                // Hidden words are cleared by useEffect when items change
            };

         const handleRecall = () => {
    // Hide all words immediately when testing memory
    setHiddenWords(new Set(items.map((_, index) => index)));
    
    // Small delay to ensure state updates before prompt
    setTimeout(() => {
        const userRecall = prompt('Type all items (any order), separated by commas:');
        
        if (userRecall === null) return;
        
        setUserAnswer(userRecall);
        
        const userItems = userRecall.split(',').map(item => item.trim().toLowerCase()).sort();
        const correctItems = [...items].sort();
        
        if (JSON.stringify(userItems) === JSON.stringify(correctItems)) {
            setMessage('üéâ Perfect! You remembered all the items correctly! Adding another item...');
            setGameState('won');
            setTimeout(() => {
                addRandomItem();
                setGameState('playing');
                setUserAnswer('');
            }, 2000);
        } else {
            setMessage('‚ùå Not quite right. Some items are missing or incorrect. Check your answer below!');
            setGameState('lost');
        }
    }, 50);
};

            const showAllWords = () => {
                setHiddenWords(new Set());
                setMessage('üí° All words revealed!');
            };

            const resetGame = () => {
                const newRandomWord = wordList[Math.floor(Math.random() * wordList.length)];
                setItems([newRandomWord]);
                setGameState('playing');
                setMessage('');
                setHiddenWords(new Set());
                setUserAnswer('');
                setTimeout(() => {
                    setMessage('New game started!');
                    setTimeout(() => setMessage(''), 2000);
                }, 0);
            };

            const renderSentence = () => {
                return (
                    <div className="text-lg leading-relaxed">
                        <span className="font-semibold">I packed my suitcase and in it I put </span>
                        {items.map((item, index) => (
                            <React.Fragment key={index}>
                                <span 
                                    className={`transition-all duration-500 ${
                                        hiddenWords.has(index) 
                                            ? 'bg-gray-800 text-gray-800 select-none' 
                                            : 'text-blue-600 font-medium'
                                    }`}
                                >
                                    {hiddenWords.has(index) ? ':hidden:' : item}
                                </span>
                                {index < items.length - 1 && <span>, </span>}
                            </React.Fragment>
                        ))}
                        <span>.</span>
                    </div>
                );
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8">
                    <div className="max-w-3xl mx-auto">
                        <div className="bg-white rounded-xl shadow-lg p-8">
                            <div className="flex items-center justify-center gap-3 mb-6">
                                <BriefcaseIcon />
                                <h1 className="text-3xl font-bold text-gray-800">I Packed My Suitcase</h1>
                            </div>

                            <div className="bg-indigo-50 rounded-lg p-6 mb-6">
                                {renderSentence()}
                            </div>

                            <div className="text-sm text-gray-600 mb-6 bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                                ‚ö†Ô∏è <strong>Remember:</strong> Each word will hide after 5 seconds!
                            </div>

                            {message && (
                                <div className={`mb-6 p-4 rounded-lg ${
                                    gameState === 'won' ? 'bg-green-50 text-green-800' :
                                    gameState === 'lost' ? 'bg-red-50 text-red-800' :
                                    'bg-blue-50 text-blue-800'
                                }`}>
                                    {message}
                                </div>
                            )}

                            {userAnswer && gameState !== 'playing' && (
                                <div className="mb-6 p-4 rounded-lg bg-gray-50 border border-gray-300">
                                    <div className="font-semibold text-gray-700 mb-2">Your Answer:</div>
                                    <div className="text-gray-800">{userAnswer}</div>
                                    <div className="font-semibold text-gray-700 mt-4 mb-2">Correct Answer:</div>
                                    <div className="text-gray-800">{items.join(', ')}</div>
                                </div>
                            )}

                            {gameState === 'playing' && (
                                <div className="mb-6 flex gap-3">
                                    <button
                                        onClick={addRandomItem}
                                        className="flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium text-lg"
                                    >
                                        Add Random Item
                                    </button>
                                    <button
                                        onClick={showAllWords}
                                        className="flex-1 px-6 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium text-lg"
                                    >
                                        Show All Words
                                    </button>
                                </div>
                            )}

                            <div className="flex gap-3 mb-4">
                                <button
                                    onClick={handleRecall}
                                    disabled={gameState !== 'playing'}
                                    className="flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed"
                                >
                                    Test My Memory
                                </button>
                                <button
                                    onClick={resetGame}
                                    className="px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium"
                                >
                                    Reset Game
                                </button>
                            </div>

                            <div className="mt-6 text-sm text-gray-600">
                                <strong>How to play:</strong>
                                <ol className="list-decimal list-inside mt-2 space-y-1">
                                    <li>Memorize the current list of items</li>
                                    <li>Click "Add Random Item" to make the list longer</li>
                                    <li>Watch as words disappear after 10 seconds!</li>
                                    <li>Click "Show All Words" if you need to see them again</li>
                                    <li>Click "Test My Memory" and type all items (any order is fine!)</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<SuitcaseGame />, document.getElementById('root'));
    </script>
    <!DOCTYPE html>
    <h1>Privacy Policy</h1>
    <p>This app does not collect, store, share, or process any personal data.</p>
    <p>The app works entirely offline and does not connect to a server.</p>
</body>
</html>
